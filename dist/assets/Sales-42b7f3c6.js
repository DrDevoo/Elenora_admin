import{H as I}from"./Header-0ce778d7.js";import{a as u}from"./axios-bff3f665.js";import{o as s,c as d,a as e,b as r,v as h,w as V,p as m,e as v,t as i,F as b,j as w,r as A,f as C,h as S,k as g}from"./index-d2ec8250.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const K={name:"PostFormAxios",data(){return{form:{cupon_name:"",cupon_value:0},data:JSON.stringify(this.form)}},methods:{submitSave(){u.post("http://localhost:3500/cupons/add/"+this.form.cupon_name+"/"+this.form.cupon_value,this.data).then(function(){console.log("SUCCESS!!"),alert("Sikeres kupon mentés!")}).catch(t=>console.log(t))}}},z=t=>(m("data-v-d5aec199"),t=t(),v(),t),P={class:"addcolection"},j={class:"input_wrapper"},N=z(()=>e("label",{for:""},"Neve",-1)),F=z(()=>e("label",{for:""},"Százaléka",-1)),U={class:"submit_wrapper"};function M(t,o,a,p,l,c){return s(),d("section",P,[e("form",{onSubmit:o[3]||(o[3]=V((...n)=>t.submitForm&&t.submitForm(...n),["prevent"]))},[e("div",j,[e("div",null,[N,r(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=n=>l.form.cupon_name=n),placeholder:"Kupon neve"},null,512),[[h,l.form.cupon_name]])]),e("div",null,[F,r(e("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>l.form.cupon_value=n),placeholder:"Kupon százaléka"},null,512),[[h,l.form.cupon_value]])])]),e("div",U,[e("input",{type:"submit",value:"Kupon mentése",onClick:o[2]||(o[2]=n=>c.submitSave())})])],32)])}const T=k(K,[["render",M],["__scopeId","data-v-d5aec199"]]);const B={name:"GetCollections",data(){return{products:[],p_name:null,p_precent:0,p_time:Date.now()}},mounted(){u.get("https://egoncompany.hu:444/products/getall").then(t=>this.products=t.data.products)},methods:{pick(t){this.p_name=t},savesale(){u.post("https://egoncompany.hu:444/sales/addsale/"+this.p_name+"/"+this.p_precent+"/"+this.p_time,JSON.stringify(this.products),{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),alert("Sikeres akció mentés!")}).catch(function(){console.log("FAILURE!!")})}}},f=t=>(m("data-v-1919f49b"),t=t(),v(),t),x={class:"addsale"},E=f(()=>e("h3",{style:{"text-align":"center"}},"Új akció termékre",-1)),H={class:"options-b"},L=f(()=>e("h5",null,"Választott termék:",-1)),D=f(()=>e("h5",null,"Hány százalékos?",-1)),G={action:""},O=f(()=>e("h5",null,"Meddig tartson?",-1)),J={cellspacing:"0",cellpadding:"0"},R=f(()=>e("thead",null,[e("tr",null,[e("th",null,"Neve"),e("th",null,"Ára"),e("th",null,"Kolekció"),e("th")])],-1)),q=["onClick"];function Q(t,o,a,p,l,c){return s(),d("section",x,[E,e("div",H,[e("div",null,[L,e("p",null,i(this.p_name),1)]),e("div",null,[D,r(e("input",{class:"precent",type:"number",name:"",id:"",placeholder:"Százalék","onUpdate:modelValue":o[0]||(o[0]=n=>l.p_precent=n)},null,512),[[h,l.p_precent]])]),e("div",null,[e("form",G,[O,r(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":o[1]||(o[1]=n=>l.p_time=n)},null,512),[[h,l.p_time]])])]),e("div",null,[e("button",{onClick:o[2]||(o[2]=n=>c.savesale())},"Mentés")])]),e("div",null,[e("table",J,[R,e("tbody",null,[(s(!0),d(b,null,w(l.products,n=>(s(),d("tr",{key:n._id},[e("td",null,i(n.prodname),1),e("td",null,i(n.price)+" Ft",1),e("td",null,i(n.collections),1),e("td",{class:"click",onClick:_=>c.pick(n.prodname)},"Választ",8,q)]))),128))])])])])}const W=k(B,[["render",Q],["__scopeId","data-v-1919f49b"]]);const X={name:"GetCollections",data(){return{collections:[],p_name:null,p_precent:0}},mounted(){u.get("https://egoncompany.hu:444/collections/getall").then(t=>this.collections=t.data)},methods:{pick(t){this.p_name=t}}},$=t=>(m("data-v-a7de3d69"),t=t(),v(),t),Y={class:"addsale"},Z=$(()=>e("h3",{style:{"text-align":"center"}},"Új akció kollekcióra",-1)),ee={class:"options-b"},te=$(()=>e("h5",null,"Választott kollekció:",-1)),oe=$(()=>e("h5",null,"Hány százalékos?",-1)),ne=$(()=>e("div",null,[e("form",{action:""},[e("h5",null,"Meddig tartson?"),e("input",{type:"radio",name:"alltime",id:"alltime"}),e("label",{for:"alltime"},"Készlet erejéig"),e("br"),e("input",{type:"date",name:"",id:""})])],-1)),le={cellspacing:"0",cellpadding:"0"},se=$(()=>e("thead",null,[e("tr",null,[e("th",null,"Neve"),e("th",null,"Típusa"),e("th",null,"Karkötők"),e("th")])],-1)),ae=["onClick"];function de(t,o,a,p,l,c){return s(),d("section",Y,[Z,e("div",ee,[e("div",null,[te,e("p",null,i(this.p_name),1)]),e("div",null,[oe,r(e("input",{class:"precent",type:"number",name:"",id:"",placeholder:"Százalék","onUpdate:modelValue":o[0]||(o[0]=n=>l.p_precent=n)},null,512),[[h,l.p_precent]])]),ne]),e("div",null,[e("table",le,[se,e("tbody",null,[(s(!0),d(b,null,w(l.collections,n=>(s(),d("tr",{key:n._id},[e("td",null,i(n.col_name),1),e("td",null,i(n.col_type),1),e("td",null,i(n.col_db),1),e("td",{onClick:_=>c.pick(n.col_name)},"választ",8,ae)]))),128))])])])])}const ie=k(X,[["render",de],["__scopeId","data-v-a7de3d69"]]);const ce={name:"GetCollections",data(){return{collections:[]}},mounted(){u.get("https://egoncompany.hu:444/sales/getsaled").then(t=>this.collections=t.data.products)},methods:{deletesale(t){confirm("Biztos torolod a kedvezményt? Ez nem vonhato vissza!")&&u.get("https://egoncompany.hu:444/sales/delete/"+t)}}},pe=t=>(m("data-v-b44bb04c"),t=t(),v(),t),_e={class:"listprod"},ue={cellspacing:"0",cellpadding:"0"},re=pe(()=>e("thead",null,[e("tr",null,[e("th",null,"Termék"),e("th",null,"Százalék"),e("th",null,"Meddig"),e("th")])],-1)),he=["onClick"];function me(t,o,a,p,l,c){const n=A("ion-icon");return s(),d("section",_e,[e("table",ue,[re,e("tbody",null,[(s(!0),d(b,null,w(l.collections,_=>(s(),d("tr",{key:_._id},[e("td",null,i(_.prodname),1),e("td",null,i(_.saleprecent),1),e("td",null,i(_.saletime.split("T")[0]),1),e("td",{onClick:Ke=>c.deletesale(_._id)},[C(n,{name:"trash-outline"})],8,he)]))),128))])])])}const ve=k(ce,[["render",me],["__scopeId","data-v-b44bb04c"]]);const y=t=>(m("data-v-af28fa82"),t=t(),v(),t),ke=y(()=>e("h1",{class:"title"},"Akciók / Kuponok",-1)),fe={class:"new-wrapper"},$e=y(()=>e("h3",null,"Új Kupon",-1)),ye=[$e],Se=y(()=>e("h3",null,"Új Akció",-1)),be=[Se],ge={key:0,class:"sales-options"},Ce=y(()=>e("h3",null,"Termékre",-1)),we=[Ce],ze=y(()=>e("h3",null,"Kollekcióra",-1)),Ie=[ze],Ve={data(){return{showCupon:!1,showSale:!1,showSaleProd:!1,showSaleColle:!1}}},Ae=Object.assign(Ve,{__name:"Sales",setup(t){return(o,a)=>(s(),d(b,null,[C(I),ke,e("main",null,[e("section",fe,[e("div",{onClick:a[0]||(a[0]=p=>o.showCupon=!o.showCupon)},ye),e("div",{onClick:a[1]||(a[1]=p=>o.showSaleProd=!o.showSaleProd)},be)]),o.showSale?(s(),d("div",ge,[e("div",{onClick:a[2]||(a[2]=p=>o.showSaleProd=!o.showSaleProd)},we),e("div",{onClick:a[3]||(a[3]=p=>o.showSaleColle=!o.showSaleColle)},Ie)])):S("",!0),o.showCupon?(s(),g(T,{key:1})):S("",!0),o.showSaleProd?(s(),g(W,{key:2})):S("",!0),o.showSaleColle?(s(),g(ie,{key:3})):S("",!0),C(ve)])],64))}}),Ue=k(Ae,[["__scopeId","data-v-af28fa82"]]);export{Ue as default};
