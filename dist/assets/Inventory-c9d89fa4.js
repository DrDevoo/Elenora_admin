import{H as k}from"./Header-0ce778d7.js";import{a as u}from"./axios-bff3f665.js";import{o as i,c as l,a as t,l as $,t as r,b as m,v as c,h as g,F as p,j as q,p as h,e as y,w as S,f as b,k as C}from"./index-d2ec8250.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";const A={name:"GetInvetory",data(){return{items:[],e_id:null,e_name:null,e_quan:null,e_open:!1,item_newquatity:null,new:null}},mounted(){u.get("https://egoncompany.hu:444/inventory/getall").then(e=>this.items=e.data)},methods:{edit(e,n,a){this.e_open=!this.e_open,this.e_quan=a,this.e_name=n,this.e_id=e},submitEdit(){this.new=this.e_quan+this.item_newquatity,u.post("https://egoncompany.hu:444/inventory/update/"+this.e_name+"/"+this.new,this.e_name,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){console.log("SUCCESS!!")}).catch(function(){console.log("FAILURE!!")}),u.get("https://egoncompany.hu:444/inventory/getall").then(e=>this.items=e.data),this.e_open=!1}}},d=e=>(h("data-v-c73dd8ab"),e=e(),y(),e),x={key:0,class:"edit_s"},E=d(()=>t("label",{for:""},"Mennyivel módosítod",-1)),F={class:"listprod"},N={cellspacing:"0",cellpadding:"0"},U=d(()=>t("thead",null,[t("tr",null,[t("th",null,"Neve"),t("th",null,"Darab"),t("th",null,"Karkötő"),t("th"),t("th"),t("th")])],-1)),V=d(()=>t("td",null,"0",-1)),D=["onClick"],L=d(()=>t("td",null,"•",-1)),z=d(()=>t("td",{class:"addbtn"},"...",-1));function B(e,n,a,v,o,_){return i(),l(p,null,[o.e_open?(i(),l("section",x,[t("h3",null,[$(" Mennyiség módosítása: "),t("i",null,r(o.e_name),1)]),t("p",null,"Jelenlegi mennyiség: "+r(o.e_quan),1),E,m(t("input",{type:"number",placeholder:"db","onUpdate:modelValue":n[0]||(n[0]=s=>o.item_newquatity=s)},null,512),[[c,o.item_newquatity]]),t("button",{onClick:n[1]||(n[1]=s=>_.submitEdit())},"mentés")])):g("",!0),t("section",F,[t("table",N,[U,t("tbody",null,[(i(!0),l(p,null,q(o.items,s=>(i(),l("tr",{key:s._id},[t("td",null,r(s.item_name),1),t("td",null,r(s.item_quantity),1),V,t("td",{class:"addbtn",onClick:nt=>_.edit(s._id,s.item_name,s.item_quantity)}," + /- ",8,D),L,z]))),128))])])])],64)}const M=f(A,[["render",B],["__scopeId","data-v-c73dd8ab"]]);const T={name:"PostFormAxios",data(){return{form:{item_name:"",item_quatity:0}}},methods:{submitItem(){u.post("https://egoncompany.hu:444/inventory/add/"+this.form.item_name+"/"+this.form.item_quatity,this.form,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){console.log("SUCCESS!!"),alert("Sikeres készlet mentés!")}).catch(function(){console.log("FAILURE!!")})}}},w=e=>(h("data-v-fdaa21a2"),e=e(),y(),e),j={class:"addprod"},H={class:"inputs_wrapper"},K={class:"left_inputs"},R=w(()=>t("label",{for:""},"Neve",-1)),G={class:"right_inputs"},J=w(()=>t("label",{for:""},"Darabszám",-1)),O={class:"submit_wrapper"};function P(e,n,a,v,o,_){return i(),l("section",j,[t("form",{onSubmit:n[3]||(n[3]=S((...s)=>e.submitForm&&e.submitForm(...s),["prevent"]))},[t("div",H,[t("div",K,[R,m(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>o.form.item_name=s),placeholder:"Neve"},null,512),[[c,o.form.item_name]])]),t("div",G,[J,m(t("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=s=>o.form.item_quatity=s),placeholder:"Darabszám"},null,512),[[c,o.form.item_quatity]])])]),t("div",O,[t("input",{type:"submit",value:"Anyag mentése",onClick:n[2]||(n[2]=s=>_.submitItem())})])],32)])}const Q=f(T,[["render",P],["__scopeId","data-v-fdaa21a2"]]);const I=e=>(h("data-v-05c9ab9e"),e=e(),y(),e),W=I(()=>t("h1",{class:"title"},"Készlet",-1)),X={class:"new-wrapper"},Y=I(()=>t("h3",null,"Új alapanyag",-1)),Z=[Y],tt={data(){return{showAdd:!1}}},et=Object.assign(tt,{__name:"Inventory",setup(e){return(n,a)=>(i(),l(p,null,[b(k),W,t("main",null,[t("section",X,[t("div",{onClick:a[0]||(a[0]=v=>n.showAdd=!n.showAdd)},Z)]),n.showAdd?(i(),C(Q,{key:0})):g("",!0),b(M)])],64))}}),lt=f(et,[["__scopeId","data-v-05c9ab9e"]]);export{lt as default};
